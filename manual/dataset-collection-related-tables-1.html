<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Dataset &amp; Collection Related Tables | Neotoma Paleoecology Manual v2.0</title>
  <meta name="description" content="The manual for the Neotoma Paleoecology Database, including SQL and R code examples." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Dataset &amp; Collection Related Tables | Neotoma Paleoecology Manual v2.0" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="The manual for the Neotoma Paleoecology Database, including SQL and R code examples." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Dataset &amp; Collection Related Tables | Neotoma Paleoecology Manual v2.0" />
  
  <meta name="twitter:description" content="The manual for the Neotoma Paleoecology Database, including SQL and R code examples." />
  

<meta name="author" content="Simon Goring" />


<meta name="date" content="2022-07-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="contact-and-individual-related-tables.html"/>
<link rel="next" href="publication-related-tables-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.23/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Acknowledgements</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#whence-neotoma"><i class="fa fa-check"></i><b>2.1</b> Whence Neotoma</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#rationale"><i class="fa fa-check"></i><b>2.2</b> Rationale</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#history-of-the-constituent-databases"><i class="fa fa-check"></i><b>2.3</b> History of the Constituent Databases</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#global-pollen-database"><i class="fa fa-check"></i><b>2.3.1</b> Global Pollen Database</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction.html"><a href="introduction.html#north-american-plant-macrofossil-database"><i class="fa fa-check"></i><b>2.3.2</b> North American Plant Macrofossil Database</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction.html"><a href="introduction.html#FAUNMAP"><i class="fa fa-check"></i><b>2.3.3</b> FAUNMAP</a></li>
<li class="chapter" data-level="2.3.4" data-path="introduction.html"><a href="introduction.html#BEETLE"><i class="fa fa-check"></i><b>2.3.4</b> BEETLE</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#who-will-use-neotoma"><i class="fa fa-check"></i><b>2.4</b> Who Will Use Neotoma?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sql-quickly.html"><a href="sql-quickly.html"><i class="fa fa-check"></i><b>3</b> SQL Quickly</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sql-quickly.html"><a href="sql-quickly.html#sql-example"><i class="fa fa-check"></i><b>3.1</b> SQL Example</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="sql-quickly.html"><a href="sql-quickly.html#sql-query"><i class="fa fa-check"></i><b>3.1.1</b> SQL Query</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="sql-quickly.html"><a href="sql-quickly.html#table-keys"><i class="fa fa-check"></i><b>3.2</b> Table Keys</a></li>
<li class="chapter" data-level="3.3" data-path="sql-quickly.html"><a href="sql-quickly.html#data-types"><i class="fa fa-check"></i><b>3.3</b> Data Types</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="sql-quickly.html"><a href="sql-quickly.html#query"><i class="fa fa-check"></i><b>3.3.1</b> Query</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="database-design-concepts.html"><a href="database-design-concepts.html"><i class="fa fa-check"></i><b>4</b> Database Design Concepts</a>
<ul>
<li class="chapter" data-level="4.1" data-path="database-design-concepts.html"><a href="database-design-concepts.html#sitedesign"><i class="fa fa-check"></i><b>4.1</b> Sites, Collection Units, Analysis Units, Samples, and Datasets</a></li>
<li class="chapter" data-level="4.2" data-path="database-design-concepts.html"><a href="database-design-concepts.html#taxa-and-variables"><i class="fa fa-check"></i><b>4.2</b> Taxa and Variables</a></li>
<li class="chapter" data-level="4.3" data-path="database-design-concepts.html"><a href="database-design-concepts.html#taxonomy-and-synonymy"><i class="fa fa-check"></i><b>4.3</b> Taxonomy and Synonymy</a></li>
<li class="chapter" data-level="4.4" data-path="database-design-concepts.html"><a href="database-design-concepts.html#taxa-and-ecological-groups"><i class="fa fa-check"></i><b>4.4</b> Taxa and Ecological Groups</a></li>
<li class="chapter" data-level="4.5" data-path="database-design-concepts.html"><a href="database-design-concepts.html#chronology"><i class="fa fa-check"></i><b>4.5</b> Chronology</a></li>
<li class="chapter" data-level="4.6" data-path="database-design-concepts.html"><a href="database-design-concepts.html#sediment-and-depositional-environments"><i class="fa fa-check"></i><b>4.6</b> Sediment and Depositional Environments</a></li>
<li class="chapter" data-level="4.7" data-path="database-design-concepts.html"><a href="database-design-concepts.html#date-fields"><i class="fa fa-check"></i><b>4.7</b> Date Fields</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="neotoma-tables.html"><a href="neotoma-tables.html"><i class="fa fa-check"></i><b>5</b> Neotoma Tables</a>
<ul>
<li class="chapter" data-level="5.1" data-path="neotoma-tables.html"><a href="neotoma-tables.html#site-related-tables"><i class="fa fa-check"></i><b>5.1</b> Site Related Tables</a></li>
<li class="chapter" data-level="5.2" data-path="neotoma-tables.html"><a href="neotoma-tables.html#dataset-collection-related-tables"><i class="fa fa-check"></i><b>5.2</b> Dataset &amp; Collection Related Tables</a></li>
<li class="chapter" data-level="5.3" data-path="neotoma-tables.html"><a href="neotoma-tables.html#chronology-age-related-tables"><i class="fa fa-check"></i><b>5.3</b> Chronology &amp; Age Related Tables</a></li>
<li class="chapter" data-level="5.4" data-path="neotoma-tables.html"><a href="neotoma-tables.html#sample-related-tables"><i class="fa fa-check"></i><b>5.4</b> Sample Related Tables</a></li>
<li class="chapter" data-level="5.5" data-path="neotoma-tables.html"><a href="neotoma-tables.html#specimen-related-tables"><i class="fa fa-check"></i><b>5.5</b> Specimen Related Tables</a></li>
<li class="chapter" data-level="5.6" data-path="neotoma-tables.html"><a href="neotoma-tables.html#taxonomy-related-tables"><i class="fa fa-check"></i><b>5.6</b> Taxonomy Related Tables</a></li>
<li class="chapter" data-level="5.7" data-path="neotoma-tables.html"><a href="neotoma-tables.html#individual-related-tables"><i class="fa fa-check"></i><b>5.7</b> Individual Related Tables</a></li>
<li class="chapter" data-level="5.8" data-path="neotoma-tables.html"><a href="neotoma-tables.html#publication-related-tables"><i class="fa fa-check"></i><b>5.8</b> Publication Related Tables</a></li>
<li class="chapter" data-level="5.9" data-path="neotoma-tables.html"><a href="neotoma-tables.html#supporting-resources"><i class="fa fa-check"></i><b>5.9</b> Supporting Resources</a></li>
<li class="chapter" data-level="5.10" data-path="neotoma-tables.html"><a href="neotoma-tables.html#isotope-data-management"><i class="fa fa-check"></i><b>5.10</b> Isotope Data Management</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="contact-and-individual-related-tables.html"><a href="contact-and-individual-related-tables.html"><i class="fa fa-check"></i><b>6</b> Contact and Individual Related Tables</a>
<ul>
<li class="chapter" data-level="6.1" data-path="contact-and-individual-related-tables.html"><a href="contact-and-individual-related-tables.html#Collectors"><i class="fa fa-check"></i><b>6.1</b> <code>collectors</code></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="contact-and-individual-related-tables.html"><a href="contact-and-individual-related-tables.html#sql-example-1"><i class="fa fa-check"></i><b>6.1.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="contact-and-individual-related-tables.html"><a href="contact-and-individual-related-tables.html#Contacts"><i class="fa fa-check"></i><b>6.2</b> <code>contacts</code></a></li>
<li class="chapter" data-level="6.3" data-path="contact-and-individual-related-tables.html"><a href="contact-and-individual-related-tables.html#ContactStatuses"><i class="fa fa-check"></i><b>6.3</b> <code>contactstatuses</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html"><i class="fa fa-check"></i><b>7</b> Dataset &amp; Collection Related Tables</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#accumulationrates"><i class="fa fa-check"></i><b>7.1</b> <code>accumulationrates</code></a></li>
<li class="chapter" data-level="7.2" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#AggregateDatasets"><i class="fa fa-check"></i><b>7.2</b> <code>aggregatedatasets</code></a></li>
<li class="chapter" data-level="7.3" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#AggregateOrderTypes"><i class="fa fa-check"></i><b>7.3</b> <code>aggregateordertypes</code></a></li>
<li class="chapter" data-level="7.4" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#CollectionTypes"><i class="fa fa-check"></i><b>7.4</b> <code>collectiontypes</code></a></li>
<li class="chapter" data-level="7.5" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#CollectionUnits"><i class="fa fa-check"></i><b>7.5</b> <code>collectionunits</code></a></li>
<li class="chapter" data-level="7.6" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#contextsdatasettypes"><i class="fa fa-check"></i><b>7.6</b> <code>contextsdatasettypes</code></a></li>
<li class="chapter" data-level="7.7" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#datasetdatabases"><i class="fa fa-check"></i><b>7.7</b> <code>datasetdatabases</code></a></li>
<li class="chapter" data-level="7.8" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#datasetdoi"><i class="fa fa-check"></i><b>7.8</b> <code>datasetdoi</code></a></li>
<li class="chapter" data-level="7.9" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DatasetPIs"><i class="fa fa-check"></i><b>7.9</b> <code>datasetpis</code></a></li>
<li class="chapter" data-level="7.10" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DatasetPublications"><i class="fa fa-check"></i><b>7.10</b> <code>datasetpublications</code></a></li>
<li class="chapter" data-level="7.11" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#Datasets"><i class="fa fa-check"></i><b>7.11</b> <code>datasets</code></a>
<ul>
<li class="chapter" data-level="7.11.1" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-2"><i class="fa fa-check"></i><b>7.11.1</b> SQL Example</a></li>
<li class="chapter" data-level="7.11.2" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-3"><i class="fa fa-check"></i><b>7.11.2</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DatasetSubmissions"><i class="fa fa-check"></i><b>7.12</b> <code>datasetsubmissions</code></a></li>
<li class="chapter" data-level="7.13" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DatasetSubmissionTypes"><i class="fa fa-check"></i><b>7.13</b> <code>datasetsubmissiontypes</code></a>
<ul>
<li class="chapter" data-level="7.13.1" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-4"><i class="fa fa-check"></i><b>7.13.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#datasettaxagrouptypes"><i class="fa fa-check"></i><b>7.14</b> <code>datasettaxagrouptypes</code></a></li>
<li class="chapter" data-level="7.15" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#datasettaxonnotes"><i class="fa fa-check"></i><b>7.15</b> <code>datasettaxonnotes</code></a></li>
<li class="chapter" data-level="7.16" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DatasetTypes"><i class="fa fa-check"></i><b>7.16</b> <code>datasettypes</code></a></li>
<li class="chapter" data-level="7.17" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#datasetvariables"><i class="fa fa-check"></i><b>7.17</b> <code>datasetvariables</code></a></li>
<li class="chapter" data-level="7.18" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#DepEnvtTypes"><i class="fa fa-check"></i><b>7.18</b> <code>depenvttypes</code></a>
<ul>
<li class="chapter" data-level="7.18.1" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-5"><i class="fa fa-check"></i><b>7.18.1</b> SQL Example</a></li>
<li class="chapter" data-level="7.18.2" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-6"><i class="fa fa-check"></i><b>7.18.2</b> SQL Example</a></li>
<li class="chapter" data-level="7.18.3" data-path="dataset-collection-related-tables-1.html"><a href="dataset-collection-related-tables-1.html#sql-example-7"><i class="fa fa-check"></i><b>7.18.3</b> SQL Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html"><i class="fa fa-check"></i><b>8</b> Publication Related Tables</a>
<ul>
<li class="chapter" data-level="8.1" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#publicationauthors"><i class="fa fa-check"></i><b>8.1</b> <code>publicationauthors</code></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#sql-example-8"><i class="fa fa-check"></i><b>8.1.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#publicationeditors"><i class="fa fa-check"></i><b>8.2</b> <code>publicationeditors</code></a></li>
<li class="chapter" data-level="8.3" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#Publications"><i class="fa fa-check"></i><b>8.3</b> <code>publications</code></a></li>
<li class="chapter" data-level="8.4" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#PublicationTypes"><i class="fa fa-check"></i><b>8.4</b> <code>publicationtypes</code></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#legacy"><i class="fa fa-check"></i><b>8.4.1</b> Legacy</a></li>
<li class="chapter" data-level="8.4.2" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#journal-article"><i class="fa fa-check"></i><b>8.4.2</b> Journal Article</a></li>
<li class="chapter" data-level="8.4.3" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#book-chapter"><i class="fa fa-check"></i><b>8.4.3</b> Book Chapter</a></li>
<li class="chapter" data-level="8.4.4" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#authored-book"><i class="fa fa-check"></i><b>8.4.4</b> Authored Book</a></li>
<li class="chapter" data-level="8.4.5" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#edited-book"><i class="fa fa-check"></i><b>8.4.5</b> Edited Book</a></li>
<li class="chapter" data-level="8.4.6" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#masters-thesis"><i class="fa fa-check"></i><b>8.4.6</b> Master’s Thesis</a></li>
<li class="chapter" data-level="8.4.7" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#doctoral-dissertation"><i class="fa fa-check"></i><b>8.4.7</b> Doctoral Dissertation</a></li>
<li class="chapter" data-level="8.4.8" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#authored-report"><i class="fa fa-check"></i><b>8.4.8</b> Authored Report</a></li>
<li class="chapter" data-level="8.4.9" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#edited-report"><i class="fa fa-check"></i><b>8.4.9</b> Edited Report</a></li>
<li class="chapter" data-level="8.4.10" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#other-authored-publication"><i class="fa fa-check"></i><b>8.4.10</b> Other Authored Publication</a></li>
<li class="chapter" data-level="8.4.11" data-path="publication-related-tables-1.html"><a href="publication-related-tables-1.html#other-edited-publication"><i class="fa fa-check"></i><b>8.4.11</b> Other Edited Publication</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html"><i class="fa fa-check"></i><b>9</b> Sample Related Tables</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#AggregateSamples"><i class="fa fa-check"></i><b>9.1</b> <code>aggregatesamples</code></a></li>
<li class="chapter" data-level="9.2" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#AnalysisUnits"><i class="fa fa-check"></i><b>9.2</b> <code>analysisunits</code></a></li>
<li class="chapter" data-level="9.3" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#Data"><i class="fa fa-check"></i><b>9.3</b> <code>data</code></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#sql-example-9"><i class="fa fa-check"></i><b>9.3.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#DepAgents"><i class="fa fa-check"></i><b>9.4</b> <code>depagents</code></a></li>
<li class="chapter" data-level="9.5" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#DepAgentTypes"><i class="fa fa-check"></i><b>9.5</b> <code>depagenttypes</code></a></li>
<li class="chapter" data-level="9.6" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#FaciesTypes"><i class="fa fa-check"></i><b>9.6</b> <code>faciestypes</code></a></li>
<li class="chapter" data-level="9.7" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#Keywords"><i class="fa fa-check"></i><b>9.7</b> <code>keywords</code></a></li>
<li class="chapter" data-level="9.8" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#Lithology"><i class="fa fa-check"></i><b>9.8</b> <code>lithology</code></a></li>
<li class="chapter" data-level="9.9" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#SampleAges"><i class="fa fa-check"></i><b>9.9</b> <code>sampleages</code></a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#sql-example-10"><i class="fa fa-check"></i><b>9.9.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#SampleAnalysts"><i class="fa fa-check"></i><b>9.10</b> <code>sampleanalysts</code></a></li>
<li class="chapter" data-level="9.11" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#SampleKeywords"><i class="fa fa-check"></i><b>9.11</b> <code>samplekeywords</code></a>
<ul>
<li class="chapter" data-level="9.11.1" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#sql-example-11"><i class="fa fa-check"></i><b>9.11.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="9.12" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#Samples"><i class="fa fa-check"></i><b>9.12</b> <code>samples</code></a>
<ul>
<li class="chapter" data-level="9.12.1" data-path="sample-related-tables-1.html"><a href="sample-related-tables-1.html#sql-example-12"><i class="fa fa-check"></i><b>9.12.1</b> SQL Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html"><i class="fa fa-check"></i><b>10</b> Site Related Tables</a>
<ul>
<li class="chapter" data-level="10.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#GeoPoliticalUnits"><i class="fa fa-check"></i><b>10.1</b> <code>geopoliticalunits</code></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-13"><i class="fa fa-check"></i><b>10.1.1</b> SQL Example</a></li>
<li class="chapter" data-level="10.1.2" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-14"><i class="fa fa-check"></i><b>10.1.2</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#lakeparameters"><i class="fa fa-check"></i><b>10.2</b> <code>lakeparameters</code></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-15"><i class="fa fa-check"></i><b>10.2.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#lakeparametertypes"><i class="fa fa-check"></i><b>10.3</b> <code>lakeparametertypes</code></a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-16"><i class="fa fa-check"></i><b>10.3.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#SiteGeoPolitical"><i class="fa fa-check"></i><b>10.4</b> <code>sitegeopolitical</code></a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-17"><i class="fa fa-check"></i><b>10.4.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#SiteImages"><i class="fa fa-check"></i><b>10.5</b> <code>siteimages</code></a></li>
<li class="chapter" data-level="10.6" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#Sites"><i class="fa fa-check"></i><b>10.6</b> <code>sites</code></a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="site-related-tables-1.html"><a href="site-related-tables-1.html#sql-example-18"><i class="fa fa-check"></i><b>10.6.1</b> SQL Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html"><i class="fa fa-check"></i><b>11</b> Taxonomy Related Tables</a>
<ul>
<li class="chapter" data-level="11.1" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#ecolgroups"><i class="fa fa-check"></i><b>11.1</b> <code>ecolgroups</code></a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-19"><i class="fa fa-check"></i><b>11.1.1</b> SQL Example</a></li>
<li class="chapter" data-level="11.1.2" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-20"><i class="fa fa-check"></i><b>11.1.2</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#EcolGroupTypes"><i class="fa fa-check"></i><b>11.2</b> <code>ecolgrouptypes</code></a></li>
<li class="chapter" data-level="11.3" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#EcolSetTypes"><i class="fa fa-check"></i><b>11.3</b> <code>ecolsettypes</code></a></li>
<li class="chapter" data-level="11.4" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#Synonyms"><i class="fa fa-check"></i><b>11.4</b> <code>synonyms</code></a></li>
<li class="chapter" data-level="11.5" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#SynonymTypes"><i class="fa fa-check"></i><b>11.5</b> <code>synonymtypes</code></a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-21"><i class="fa fa-check"></i><b>11.5.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#Taxa"><i class="fa fa-check"></i><b>11.6</b> <code>taxa</code></a></li>
<li class="chapter" data-level="11.7" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#TaxaGroupTypes"><i class="fa fa-check"></i><b>11.7</b> <code>taxagrouptypes</code></a></li>
<li class="chapter" data-level="11.8" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#Variables"><i class="fa fa-check"></i><b>11.8</b> <code>variables</code></a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-22"><i class="fa fa-check"></i><b>11.8.1</b> SQL Example</a></li>
<li class="chapter" data-level="11.8.2" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-23"><i class="fa fa-check"></i><b>11.8.2</b> SQL Example</a></li>
<li class="chapter" data-level="11.8.3" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-24"><i class="fa fa-check"></i><b>11.8.3</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#VariableContexts"><i class="fa fa-check"></i><b>11.9</b> <code>variablecontexts</code></a></li>
<li class="chapter" data-level="11.10" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#VariableElements"><i class="fa fa-check"></i><b>11.10</b> <code>variableelements</code></a></li>
<li class="chapter" data-level="11.11" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#VariableModifications"><i class="fa fa-check"></i><b>11.11</b> <code>variablemodifications</code></a></li>
<li class="chapter" data-level="11.12" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#VariableUnits"><i class="fa fa-check"></i><b>11.12</b> <code>variableunits</code></a></li>
<li class="chapter" data-level="11.13" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#RepositoryInstitutions"><i class="fa fa-check"></i><b>11.13</b> <code>repositoryinstitutions</code></a></li>
<li class="chapter" data-level="11.14" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#RepositorySpecimens"><i class="fa fa-check"></i><b>11.14</b> <code>repositoryspecimens</code></a>
<ul>
<li class="chapter" data-level="11.14.1" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#sql-example-25"><i class="fa fa-check"></i><b>11.14.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="11.15" data-path="taxonomy-related-tables-1.html"><a href="taxonomy-related-tables-1.html#SpecimenDates"><i class="fa fa-check"></i><b>11.15</b> <code>specimendates</code></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html"><i class="fa fa-check"></i><b>12</b> Chronology &amp; Age Related Tables</a>
<ul>
<li class="chapter" data-level="12.1" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#AgeTypes"><i class="fa fa-check"></i><b>12.1</b> <code>agetypes</code></a></li>
<li class="chapter" data-level="12.2" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#AggregateChronologies"><i class="fa fa-check"></i><b>12.2</b> <code>aggregatechronologies</code></a></li>
<li class="chapter" data-level="12.3" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#ChronControls"><i class="fa fa-check"></i><b>12.3</b> <code>chroncontrols</code></a></li>
<li class="chapter" data-level="12.4" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#ChronControlTypes"><i class="fa fa-check"></i><b>12.4</b> <code>chroncontroltypes</code></a></li>
<li class="chapter" data-level="12.5" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#Chronologies"><i class="fa fa-check"></i><b>12.5</b> <code>chronologies</code></a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-26"><i class="fa fa-check"></i><b>12.5.1</b> SQL Example</a></li>
<li class="chapter" data-level="12.5.2" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-27"><i class="fa fa-check"></i><b>12.5.2</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#AggregateSampleAges"><i class="fa fa-check"></i><b>12.6</b> <code>aggregatesampleages</code></a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-28"><i class="fa fa-check"></i><b>12.6.1</b> SQL Example</a></li>
<li class="chapter" data-level="12.6.2" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-29"><i class="fa fa-check"></i><b>12.6.2</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#Geochronology"><i class="fa fa-check"></i><b>12.7</b> <code>geochronology</code></a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-30"><i class="fa fa-check"></i><b>12.7.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#GeochronPublications"><i class="fa fa-check"></i><b>12.8</b> <code>geochronpublications</code></a></li>
<li class="chapter" data-level="12.9" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#GeochronTypes"><i class="fa fa-check"></i><b>12.9</b> <code>geochrontypes</code></a></li>
<li class="chapter" data-level="12.10" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RelativeAgePublications"><i class="fa fa-check"></i><b>12.10</b> <code>relativeagepublications</code></a></li>
<li class="chapter" data-level="12.11" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RelativeAges"><i class="fa fa-check"></i><b>12.11</b> <code>relativeages</code></a>
<ul>
<li class="chapter" data-level="12.11.1" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#sql-example-31"><i class="fa fa-check"></i><b>12.11.1</b> SQL Example</a></li>
</ul></li>
<li class="chapter" data-level="12.12" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RadiocarbonCalibration"><i class="fa fa-check"></i><b>12.12</b> <code>radiocarboncalibration</code></a></li>
<li class="chapter" data-level="12.13" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RelativeAgeScales"><i class="fa fa-check"></i><b>12.13</b> <code>relativeagescales</code></a></li>
<li class="chapter" data-level="12.14" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RelativeAgeUnits"><i class="fa fa-check"></i><b>12.14</b> <code>relativeageunits</code></a></li>
<li class="chapter" data-level="12.15" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#RelativeChronology"><i class="fa fa-check"></i><b>12.15</b> <code>relativechronology</code></a></li>
<li class="chapter" data-level="12.16" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#Tephrachronology"><i class="fa fa-check"></i><b>12.16</b> <code>tephrachronology</code></a></li>
<li class="chapter" data-level="12.17" data-path="chronology-age-related-tables-1.html"><a href="chronology-age-related-tables-1.html#Tephras"><i class="fa fa-check"></i><b>12.17</b> <code>tephras</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Neotoma Paleoecology Manual v2.0</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataset-collection-related-tables-1" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> Dataset &amp; Collection Related Tables<a href="dataset-collection-related-tables-1.html#dataset-collection-related-tables-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="accumulationrates" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> <code>accumulationrates</code><a href="dataset-collection-related-tables-1.html#accumulationrates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table represents estimated accumulation rates based on particular chronologies associated with collectionunits. Units are defined within the table. Accumulation rates play an important role in understanding surficial and depositional processes <span class="citation">(Bennett and Buck <a href="#ref-Bennett2016" role="doc-biblioref">2016</a>)</span>, and can be critical for defining relevant priors for Bayesian chronologies <span class="citation">(Goring et al. <a href="#ref-Goring2012" role="doc-biblioref">2012</a>)</span>. While accumulation rates can be calculated on-the-fly, Neotoma also stores accumulation rates when reported, however, at present only 11 chronologies have reported accumulation rates.</p>
<div id="htmlwidget-a15146c27b4485a6bd00" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a15146c27b4485a6bd00">{"x":{"filter":"none","vertical":false,"data":[["analysisunitid","chronologyid","accumulationrate","variableunitsid","recdatecreated","recdatemodified"],["integer","integer","double precision","integer","timestamp(0) without time zone","timestamp(0) without time zone"],["accumulationrates_pkey, fk_accumulationrates_analysisunits","accumulationrates_pkey, fk_accumulationrates_chronologies","","fk_accumulationrates_variableunits","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>analysisunitid</code> (foreign key)</strong>: The identifier for the associated analysis unit.</li>
<li><strong><code>chronologyid</code> (foreign key)</strong></li>
<li><strong><code>accumulationrate</code></strong>: The rate at which sediment accumulations within a particular analysis unit, defined (generally) as the length of time required to accumulate some depth of sediment (<em>e.g.</em>, <em>yr/cm</em>).</li>
<li><strong><code>variableunitsid</code> (foreign key)</strong>: Foreign key referencing variable units, describing the units in which the accumulation rate is reported.</li>
</ul>
</div>
<div id="AggregateDatasets" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> <code>aggregatedatasets</code><a href="dataset-collection-related-tables-1.html#AggregateDatasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Aggregate Datasets are aggregates of samples of a particular <a href="#datasettypes"><code>datasettypes</code></a>.</p>
<p>Some examples:</p>
<ul>
<li>Plant macrofossil samples from a group of packrat middens collected from a particular valley, mountain range, or other similarly defined geographic area. Each midden is from a different <code>site</code> or <code>collectionunit</code>, but they are grouped into time series for that area and are published as single dataset.</li>
<li>Samples collected from 32 cutbanks along several kms of road. Each sample is from a different site, but they form a time series from 0 – 12,510 <sup>14</sup>C yr BP, and pollen, plant macrofossils, and beetles were published and graphed as if from a single site.</li>
<li>A set of pollen surface samples from particular region or study that were published and analyzed as a single dataset and submitted to the database as a single dataset.</li>
</ul>
<p>The examples above are datasets predefined in the database. New aggregate datasets could be assembled for particular studies, for example all the pollen samples for a given time slice for a given geographic region.</p>
<div id="htmlwidget-ba7c2f25e9977533eac8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba7c2f25e9977533eac8">{"x":{"filter":"none","vertical":false,"data":[["aggregatedatasetid","aggregatedatasetname","aggregateordertypeid","notes","recdatecreated","recdatemodified"],["integer","character varying(255)","integer","text","timestamp(0) without time zone","timestamp(0) without time zone"],["aggregatedatasets_pkey","","fk_aggregatedatasets_aggregateordertypes","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>aggregatedatasetid</code> (primary key)</strong>: An arbitrary Aggregate Dataset identification number.</li>
<li><strong><code>aggregatedatasetname</code></strong>: Name of Aggregate Dataset.</li>
<li><strong><code>aggregateordertypeid</code> (foreign key)</strong>: Aggregate Order Type identification number. Field links to the <a href="dataset-collection-related-tables-1.html#AggregateOrderTypes"><code>aggregateordertypes</code></a> lookup table.</li>
<li><strong><code>notes</code></strong>: Free form notes about the Aggregate Order Type.</li>
</ul>
</div>
<div id="AggregateOrderTypes" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> <code>aggregateordertypes</code><a href="dataset-collection-related-tables-1.html#AggregateOrderTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lookup table for Aggregate Order Types. Table is referenced by the
<a href="dataset-collection-related-tables-1.html#AggregateDatasets"><code>aggregatedatasets</code></a> table.</p>
<div id="htmlwidget-17c665302748cc8b7a48" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-17c665302748cc8b7a48">{"x":{"filter":"none","vertical":false,"data":[["aggregateordertypeid","aggregateordertype","notes","recdatecreated","recdatemodified"],["integer","character varying(64)","text","timestamp(0) without time zone","timestamp(0) without time zone"],["aggregateordertypes_pkey","","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>aggregateordertypeid</code> (primary key)</strong>: An arbitrary Aggregate Order Type identification number.</li>
<li><strong><code>aggregateordertype</code></strong>: The Aggregate Order Type.</li>
<li><strong><code>notes</code></strong>: Free form notes or comments about the Aggregate Order Type. The Aggregate Order Types are:
<ul>
<li><strong>Latitude</strong>: AggregateDataset samples are ordered by, in order of priority, either (1) <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a> GPSLatitude or (2) the mean of <a href="site-related-tables-1.html#Sites"><code>sites</code></a>.LatitudeNorth and <a href="site-related-tables-1.html#Sites"><code>sites</code></a> LatitudeSouth.</li>
<li><strong>Longitude</strong> AggregateDataset samples are ordered by, in order of priority, either (1) <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a> GPSLongitude or (2) the mean of <a href="site-related-tables-1.html#Sites"><code>sites</code></a>.LongitudeWest and <a href="site-related-tables-1.html#Sites"><code>sites</code></a>.LongitudeEast.</li>
<li><strong>Altitude</strong> AggregateDataset samples are ordered by <a href="site-related-tables-1.html#Sites"><code>sites</code></a> Altitude.</li>
<li><strong>Age</strong> AggregateDataset samples are ordered by <a href="sample-related-tables-1.html#SampleAges"><code>sampleages</code></a>.Age, where <a href="sample-related-tables-1.html#SampleAges"><code>sampleages</code></a>.SampleAgeID is from <a href="chronology-age-related-tables-1.html#AggregateSampleAges"><code>aggregatesampleages</code></a>.SampleAgeID.</li>
<li><strong>Alphabetical by site name</strong> AggregateDataset samples are ordered alphabetically by <a href="site-related-tables-1.html#Sites"><code>sites</code></a>.SiteName.</li>
<li><strong>Alphabetical by collection unit name</strong> AggregateDataset samples are ordered alphabetically by <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a>.CollUnitName.</li>
<li><strong>Alphabetical by collection units handle</strong> AggregateDataset samples are ordered alphabetically by <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a>.Handle.</li>
</ul></li>
</ul>
</div>
<div id="CollectionTypes" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> <code>collectiontypes</code><a href="dataset-collection-related-tables-1.html#CollectionTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table is a lookup table of for types of Collection Units, or Collection Types. Table is referenced by the <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a> table.</p>
<div id="htmlwidget-e2b8ad7ab68850ed1a6f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e2b8ad7ab68850ed1a6f">{"x":{"filter":"none","vertical":false,"data":[["colltypeid","colltype","recdatecreated","recdatemodified"],["integer","character varying(64)","timestamp(0) without time zone","timestamp(0) without time zone"],["collectiontypes_pkey","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p><strong><code>colltypeid</code> (primary key)</strong>: An arbitrary Collection Type identification number.</p></li>
<li><p><strong><code>colltype</code></strong>: The Collection Type. Types include cores, sections, excavations, and
animal middens. Collection Units may be modern collections, surface
float, or isolated specimens. Composite Collections Units include
different kinds of Analysis Units, for example a modern surface
sample for ostracodes and an associated water sample.</p></li>
</ul>
</div>
<div id="CollectionUnits" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> <code>collectionunits</code><a href="dataset-collection-related-tables-1.html#CollectionUnits" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table stores data for Collection Units.</p>
<div id="htmlwidget-9094fe003dccd63976a8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9094fe003dccd63976a8">{"x":{"filter":"none","vertical":false,"data":[["collectionunitid","handle","siteid","colltypeid","depenvtid","collunitname","colldate","colldevice","gpslatitude","gpslongitude","gpsaltitude","gpserror","waterdepth","substrateid","slopeaspect","slopeangle","location","notes","recdatecreated","recdatemodified"],["integer","character varying(10)","integer","integer","integer","character varying(255)","date","character varying(255)","double precision","double precision","double precision","double precision","double precision","integer","integer","integer","character varying(255)","text","timestamp(0) without time zone","timestamp(0) without time zone"],["collectionunits_pkey","","fk_collectionunits_sites","fk_collectionunits_collectiontypes","fk_collectionunits_depenvttypes","","","","","","","","","fk_collectionunits_rocktypes","","","","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>collectionunitid</code> (primary key)</strong>: An arbitrary Collection Unit identification number.</li>
<li><strong><code>siteid</code> (foreign key)</strong>: Site where CollectionUnit was located. Field links to <a href="site-related-tables-1.html#Sites"><code>sites</code></a> table.</li>
<li><strong><code>colltypeid</code> (foreign key)</strong>: Type of Collection Unit. Field links to the <a href="dataset-collection-related-tables-1.html#CollectionTypes"><code>collectiontypes</code></a> table.</li>
<li><strong><code>depenvtid</code> (foreign key)</strong>: Depositional environment of the CollectionUnit. Normally, this key refers to the modern environment. For example, the site may be located on a colluvial slope, in which case the Depositional Environment may be Colluvium or Colluvial Fan. However, an excavation may extend into alluvial sediments, which represent a different depositional environment. These are accounted for by the Facies of the AnalysisUnit. Field links to the <a href="dataset-collection-related-tables-1.html#DepEnvtTypes"><code>depenvttypes</code></a> table.</li>
<li><strong><code>handle</code></strong>: Code name for the Collection Unit. This code may be up to 10 characters, but an effort is made to keep these to 8 characters or less. Data are frequently distributed by Collection Unit, and the Handle is used for file names.</li>
<li><strong><code>collunitname</code></strong>: Name of the Collection Unit. Examples: Core BPT82A, Structure 9, P4A Test 57. If faunal data are reported from a site or locality without explicit Collection Units, then data are assigned to a single Collection Unit with the name «Locality».</li>
<li><strong><code>colldate</code></strong>: Date Collection Unit was collected.</li>
<li><strong><code>colldevice</code></strong>: Device used for obtain Collection Unit. This field applies primarily to cores, for example «Wright square-rod piston corer (5 cm)».</li>
<li><strong><code>gpslatitude</code></strong>: Precise latitude of the Collection Unit, typically taken with a GPS, although may be precisely measured from a map.</li>
<li><strong><code>gpslongitude</code></strong>: Precise longitude of the Collection Unit, typically taken with a GPS, although may be precisely measured from a map.</li>
<li><strong><code>gpsaltitude</code></strong>: Precise altitude of the Collection Unit, typically taken with a GPS or precisely obtained from a map.</li>
<li><strong><code>gpserror</code></strong>: Error in the horizontal GPS coordinates, if known.</li>
<li><strong><code>waterdepth</code></strong>: Depth of water at the Collection Unit location. This field applies mainly to Collection Units from lakes.</li>
<li><strong><code>substrateid</code> (foreign key)</strong>: Substrate or rock type on which the Collection Unit lies. Field links to the RockTypes table. This field is especially used for rodent middens.</li>
<li><strong><code>slopeaspect</code></strong>: For Collection Units on slopes, the horizontal direction to which a slope faces measured in degrees clockwise from north. This field is especially used for rodent middens.</li>
<li><strong><code>slopeangle</code></strong>: For Collection Units on slopes, the angle of slope from horizontal. The <code>slopeangle</code> field is especially used for rodent middens.</li>
<li><strong><code>location</code></strong>: Short description of the location of the Collection Unit within the site.</li>
<li><strong><code>notes</code></strong>: Free form notes or comments about the Collection Unit.</li>
</ul>
</div>
<div id="contextsdatasettypes" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> <code>contextsdatasettypes</code><a href="dataset-collection-related-tables-1.html#contextsdatasettypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Reporting for the set of variable contexts associated with each datasettype. This table is used to relate dataset type to variable context to provide users with a custom set of terms when entering and uploading data for a particular datasettype. For example, <em>Neotoma Pollen:broken</em> is not available for geochronologic datasets.</p>
<div id="htmlwidget-f68d37b651f89d73def7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f68d37b651f89d73def7">{"x":{"filter":"none","vertical":false,"data":[["datasettypeid","variablecontextid","recdatecreated","recdatemodified"],["integer","integer","timestamp(0) without time zone","timestamp(0) without time zone"],["contextsdatasettypes_pkey, fk_contextsdatasettypes_datasettypes","contextsdatasettypes_pkey, fk_contextsdatasettypes_variablecontexts","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>datasettypeid</code> (foreign key)</strong>: Link to the datasettype for a particular variable.</li>
<li><strong><code>variablecontextid</code> (foreign key)</strong>: Link to the variable context type.</li>
</ul>
</div>
<div id="datasetdatabases" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> <code>datasetdatabases</code><a href="dataset-collection-related-tables-1.html#datasetdatabases" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The constituent database to which a dataset belongs.</p>
</div>
<div id="datasetdoi" class="section level2 hasAnchor" number="7.8">
<h2><span class="header-section-number">7.8</span> <code>datasetdoi</code><a href="dataset-collection-related-tables-1.html#datasetdoi" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The doi for a dataset.</p>
</div>
<div id="DatasetPIs" class="section level2 hasAnchor" number="7.9">
<h2><span class="header-section-number">7.9</span> <code>datasetpis</code><a href="dataset-collection-related-tables-1.html#DatasetPIs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table lists the Principle Investigators for Datasets.</p>
<div id="htmlwidget-1a8b42933479734ac1db" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1a8b42933479734ac1db">{"x":{"filter":"none","vertical":false,"data":[["datasetid","contactid","piorder","recdatecreated","recdatemodified"],["integer","integer","integer","timestamp(0) without time zone","timestamp(0) without time zone"],["fk_datasetpis_datasets","fk_datasetpis_contacts","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>datasetid</code> (primary key, foreign key)</strong>: Dataset identification number. Field links to Dataset table.</li>
<li><strong><code>contactid</code> (primary key, foreign key)</strong>: Contact identification number. Field links to
<a href="contact-and-individual-related-tables.html#Contacts"><code>contacts</code></a> table.</li>
<li><strong><code>piorder</code></strong>: Order in which PIs are listed.</li>
</ul>
</div>
<div id="DatasetPublications" class="section level2 hasAnchor" number="7.10">
<h2><span class="header-section-number">7.10</span> <code>datasetpublications</code><a href="dataset-collection-related-tables-1.html#DatasetPublications" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table lists the publications for datasets.</p>
<div id="htmlwidget-2afa22865fcce7d815f1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2afa22865fcce7d815f1">{"x":{"filter":"none","vertical":false,"data":[["datasetid","publicationid","primarypub","recdatecreated","recdatemodified"],["integer","integer","boolean","timestamp(0) without time zone","timestamp(0) without time zone"],["datasetpublications_pkey, fk_datasetpublications_datasets","datasetpublications_pkey, fk_datasetpublications_publications","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>datasetid</code> (primary key, foreign key)</strong>: Dataset identification number. Field links to <a href="dataset-collection-related-tables-1.html#Datasets"><code>datasets</code></a> table.</li>
<li><strong><code>publicationid</code> (primary key, foreign key)</strong>: Publication identification number. Field links to <a href="publication-related-tables-1.html#Publications"><code>publications</code></a> table.</li>
<li><strong><code>primarypub</code></strong>: Is «True» if the publication is the primary publication for the dataset.</li>
</ul>
</div>
<div id="Datasets" class="section level2 hasAnchor" number="7.11">
<h2><span class="header-section-number">7.11</span> <code>datasets</code><a href="dataset-collection-related-tables-1.html#Datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This table stores the data for Datasets. A Dataset is the set of samples for a particular data type from a Collection Unit. A Collection Unit may have multiple Datasets for different data types, for example one dataset for pollen and another for plant macrofossils. Every Sample is assigned to a Dataset, and every Dataset is assigned to a Collection Unit. Samples from different Collection Units cannot be assigned to the same Dataset (although they may be assigned to <a href="dataset-collection-related-tables-1.html#AggregateDatasets"><code>aggregatedatasets</code></a>).</p>
<div id="htmlwidget-a689ea9d1bd14728b005" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a689ea9d1bd14728b005">{"x":{"filter":"none","vertical":false,"data":[["datasetid","collectionunitid","datasettypeid","datasetname","notes","recdatecreated","recdatemodified","embargoid"],["integer","integer","integer","character varying(80)","text","timestamp(0) without time zone","timestamp(0) without time zone","integer"],["datasets_pkey","fk_datasets_collectionunits","fk_datasets_datasettypes","","","","","fk_datasets_embargo"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>datasetid</code> (primary key)</strong>: An arbitrary Dataset identification number.</li>
<li><strong><code>collectionunitid</code> (foreign key)</strong>: Collection Unit identification number. Field links to the
<a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a> table.</li>
<li><strong><code>datasettypeid</code> (foreign key)</strong>: Dataset Type identification number. Field links to the
<a href="dataset-collection-related-tables-1.html#DatasetTypes"><code>datasettypes</code></a> lookup table.</li>
<li><strong><code>datasetname</code></strong>: Optional name for the Dataset.</li>
<li><strong><code>notes</code></strong>: Free form notes or comments about the Dataset.</li>
</ul>
<div id="sql-example-2" class="section level3 hasAnchor" number="7.11.1">
<h3><span class="header-section-number">7.11.1</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following query lists the Dataset Types for the site <strong>Vaifanaura’amo’ora</strong>. Note the kind of apostrophe used here. Strings with single quotes can be escaped using <code>''</code> a double single quote. Here we are using an ASCII apostrophe character.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="dataset-collection-related-tables-1.html#cb9-1" aria-hidden="true"></a> <span class="kw">SELECT</span> dst.datasettype</span>
<span id="cb9-2"><a href="dataset-collection-related-tables-1.html#cb9-2" aria-hidden="true"></a> <span class="kw">FROM</span> ndb.sites <span class="kw">AS</span> st </span>
<span id="cb9-3"><a href="dataset-collection-related-tables-1.html#cb9-3" aria-hidden="true"></a> <span class="kw">INNER</span> <span class="kw">JOIN</span> ndb.collectionunits <span class="kw">AS</span> cu <span class="kw">ON</span> cu.siteid <span class="op">=</span> st.siteid </span>
<span id="cb9-4"><a href="dataset-collection-related-tables-1.html#cb9-4" aria-hidden="true"></a> <span class="kw">INNER</span> <span class="kw">JOIN</span> ndb.datasets <span class="kw">AS</span> ds <span class="kw">ON</span> ds.collectionunitid <span class="op">=</span> cu.collectionunitid</span>
<span id="cb9-5"><a href="dataset-collection-related-tables-1.html#cb9-5" aria-hidden="true"></a> <span class="kw">INNER</span> <span class="kw">JOIN</span> ndb.datasettypes <span class="kw">AS</span> dst <span class="kw">ON</span> dst.datasettypeid <span class="op">=</span> ds.datasettypeid</span>
<span id="cb9-6"><a href="dataset-collection-related-tables-1.html#cb9-6" aria-hidden="true"></a> <span class="kw">WHERE</span> st.sitename <span class="op">=</span> <span class="st">&#39;Vaifanaura’amo’ora&#39;</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:datasettypesbysitename">Table 7.1: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">datasettype</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">geochronologic</td>
</tr>
<tr class="even">
<td align="left">pollen</td>
</tr>
<tr class="odd">
<td align="left">plant macrofossil</td>
</tr>
<tr class="even">
<td align="left">insect</td>
</tr>
<tr class="odd">
<td align="left">diatom</td>
</tr>
<tr class="even">
<td align="left">geochemistry</td>
</tr>
<tr class="odd">
<td align="left">charcoal</td>
</tr>
<tr class="even">
<td align="left">charcoal</td>
</tr>
<tr class="odd">
<td align="left">phytolith</td>
</tr>
<tr class="even">
<td align="left">paleomagnetic</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sql-example-3" class="section level3 hasAnchor" number="7.11.2">
<h3><span class="header-section-number">7.11.2</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This query lists the plant macrofossil taxa located at sites in Neotoma with a defined <em>plant macrofossil</em> dataset type. We have to apply a second filter to ensure we are only returning taxa that fit within the vascular plant taxonomic group.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="dataset-collection-related-tables-1.html#cb10-1" aria-hidden="true"></a><span class="kw">SELECT</span> st.sitename,</span>
<span id="cb10-2"><a href="dataset-collection-related-tables-1.html#cb10-2" aria-hidden="true"></a>       st.siteid,</span>
<span id="cb10-3"><a href="dataset-collection-related-tables-1.html#cb10-3" aria-hidden="true"></a>       ds.datasetid,</span>
<span id="cb10-4"><a href="dataset-collection-related-tables-1.html#cb10-4" aria-hidden="true"></a>       array_agg(<span class="kw">DISTINCT</span> tx.taxonname)</span>
<span id="cb10-5"><a href="dataset-collection-related-tables-1.html#cb10-5" aria-hidden="true"></a><span class="kw">FROM</span> ndb.sites <span class="kw">AS</span> st </span>
<span id="cb10-6"><a href="dataset-collection-related-tables-1.html#cb10-6" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span> ndb.collectionunits <span class="kw">AS</span>  cu <span class="kw">ON</span>           cu.siteid <span class="op">=</span> st.siteid</span>
<span id="cb10-7"><a href="dataset-collection-related-tables-1.html#cb10-7" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>        ndb.datasets <span class="kw">AS</span>  ds <span class="kw">ON</span> ds.collectionunitid <span class="op">=</span> cu.collectionunitid </span>
<span id="cb10-8"><a href="dataset-collection-related-tables-1.html#cb10-8" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>    ndb.datasettypes <span class="kw">AS</span> dst <span class="kw">ON</span>   dst.datasettypeid <span class="op">=</span> ds.datasettypeid </span>
<span id="cb10-9"><a href="dataset-collection-related-tables-1.html#cb10-9" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>         ndb.samples <span class="kw">AS</span> smp <span class="kw">ON</span>       smp.datasetid <span class="op">=</span> ds.datasetid</span>
<span id="cb10-10"><a href="dataset-collection-related-tables-1.html#cb10-10" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>            ndb.<span class="kw">data</span> <span class="kw">AS</span>  dt <span class="kw">ON</span>         dt.sampleid <span class="op">=</span> smp.sampleid </span>
<span id="cb10-11"><a href="dataset-collection-related-tables-1.html#cb10-11" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>       ndb.variables <span class="kw">AS</span> var <span class="kw">ON</span>      var.variableid <span class="op">=</span> dt.variableid</span>
<span id="cb10-12"><a href="dataset-collection-related-tables-1.html#cb10-12" aria-hidden="true"></a><span class="kw">INNER</span> <span class="kw">JOIN</span>            ndb.taxa <span class="kw">AS</span>  tx <span class="kw">ON</span>         var.taxonid <span class="op">=</span> tx.taxonid</span>
<span id="cb10-13"><a href="dataset-collection-related-tables-1.html#cb10-13" aria-hidden="true"></a><span class="kw">WHERE</span> st.sitename <span class="kw">LIKE</span> <span class="st">&#39;%Lake%&#39;</span> <span class="kw">AND</span> </span>
<span id="cb10-14"><a href="dataset-collection-related-tables-1.html#cb10-14" aria-hidden="true"></a>      dst.datasettype <span class="op">=</span> <span class="st">&#39;plant macrofossil&#39;</span> </span>
<span id="cb10-15"><a href="dataset-collection-related-tables-1.html#cb10-15" aria-hidden="true"></a>      <span class="kw">AND</span> tx.taxagroupid <span class="op">=</span> <span class="st">&#39;VPL&#39;</span></span>
<span id="cb10-16"><a href="dataset-collection-related-tables-1.html#cb10-16" aria-hidden="true"></a><span class="kw">GROUP</span> <span class="kw">BY</span> st.siteid, st.sitename, ds.datasetid</span>
<span id="cb10-17"><a href="dataset-collection-related-tables-1.html#cb10-17" aria-hidden="true"></a><span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:planttaxasitename">Table 7.2: </span>5 records</caption>
<colgroup>
<col width="4%" />
<col width="1%" />
<col width="2%" />
<col width="91%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">sitename</th>
<th align="right">siteid</th>
<th align="right">datasetid</th>
<th align="left">array_agg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Hells Kitchen Lake</td>
<td align="right">196</td>
<td align="right">49194</td>
<td align="left">{“Abies balsamea”,“Acer saccharum”,Alnus,Arctostaphylos,Betula,“Betula alleghaniensis”,“Betula papyrifera”,“Brasenia schreberi”,Carex,Coniferae,Cyperaceae,“Dulichium arundinaceum”,“Larix laricina”,“Najas flexilis”,“Nemopanthus mucronatus”,Picea,“Pinus resinosa”,“Pinus strobus”,“Populus tremuloides”,Potamogeton,“Quercus rubra”,Sagittaria,Salix,Thuja,“Tsuga canadensis”,“Ulmus americana”}</td>
</tr>
<tr class="even">
<td align="left">Wentworth Lake</td>
<td align="right">459</td>
<td align="right">49066</td>
<td align="left">{“Abies lasiocarpa”,“Alnus rubra”,“Alnus viridis subsp. sinuata”,Coniferae,“Coniferae undiff.”,“Picea sitchensis”,“Thuja plicata”,“Tsuga heterophylla”}</td>
</tr>
<tr class="odd">
<td align="left">Conroy Lake</td>
<td align="right">491</td>
<td align="right">14767</td>
<td align="left">{Alnus}</td>
</tr>
<tr class="even">
<td align="left">Crawford Lake</td>
<td align="right">507</td>
<td align="right">16123</td>
<td align="left">{Larix}</td>
</tr>
<tr class="odd">
<td align="left">Kenosee Lake</td>
<td align="right">1415</td>
<td align="right">17850</td>
<td align="left">{Amaranthaceae,Scirpus}</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="DatasetSubmissions" class="section level2 hasAnchor" number="7.12">
<h2><span class="header-section-number">7.12</span> <code>datasetsubmissions</code><a href="dataset-collection-related-tables-1.html#DatasetSubmissions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Submissions to the database are of Datasets. Submissions may be original
submissions, resubmissions, compilations from other databases, or
recompilations. See the description of the
<a href="dataset-collection-related-tables-1.html#DatasetSubmissionTypes"><code>datasetsubmissiontypes</code></a> table.</p>
<div id="htmlwidget-e809e90edc6900201623" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e809e90edc6900201623">{"x":{"filter":"none","vertical":false,"data":[["submissionid","datasetid","databaseid","contactid","submissiontypeid","submissiondate","notes","recdatecreated","recdatemodified"],["integer","integer","integer","integer","integer","date","text","timestamp(0) without time zone","timestamp(0) without time zone"],["datasetsubmissions_pkey","fk_datasetsubmissions_datasets","fk_datasetsubmissions_constituentdatabases","fk_datasetsubmissions_contacts","fk_datasetsubmissions_datasetsubmissiontypes","","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>submissionid</code> (primary key)</strong>: An arbitrary submission identification number.</li>
<li><strong><code>datasetid</code> (foreign key)</strong>: Dataset identification number. Field links to the <a href="dataset-collection-related-tables-1.html#Datasets"><code>datasets</code></a> table. Datasets may occur
multiple times in this table (e.g. once for the original compilation into a different database and a second time for the recompilation into Neotoma).</li>
<li><strong><code>projectid</code> (foreign key)</strong>: Database project responsible for the submission or compilation.</li>
<li><strong><code>contactid</code> (foreign key)</strong>: Contact identification number. Field links to the <a href="contact-and-individual-related-tables.html#Contacts"><code>contacts</code></a> table. The Contact is the person who submitted, resubmitted, compiled, or recompiled the data. This person is not necessarily the Dataset PI; it is the person who submitted the data or compiled the data from the literature.</li>
<li><strong><code>submissiondate</code></strong>: Date of the submission, resubmission, compilation, or recompilation.</li>
<li><strong><code>submissiontypeid</code> (foreign key)</strong>: Submission Type identification number. Field links to the <a href="dataset-collection-related-tables-1.html#DatasetSubmissionTypes"><code>datasetsubmissiontypes</code></a> table.</li>
<li><strong><code>notes</code></strong>: Free form notes or comments about the submission.</li>
</ul>
</div>
<div id="DatasetSubmissionTypes" class="section level2 hasAnchor" number="7.13">
<h2><span class="header-section-number">7.13</span> <code>datasetsubmissiontypes</code><a href="dataset-collection-related-tables-1.html#DatasetSubmissionTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lookup table of Dataset Submission Types. Table is referenced by the <a href="dataset-collection-related-tables-1.html#DatasetSubmissions"><code>datasetsubmissions</code></a> table.</p>
<div id="htmlwidget-88582a7d41eabee11023" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-88582a7d41eabee11023">{"x":{"filter":"none","vertical":false,"data":[["submissiontypeid","submissiontype","recdatecreated","recdatemodified"],["integer","character varying(80)","timestamp(0) without time zone","timestamp(0) without time zone"],["datasetsubmissiontypes_pkey","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>submissiontypeid</code> (primary key)</strong>: An arbitrary Submission Type identification number.</li>
<li><strong><code>submissiontype</code></strong>: Type of submission. The database has the following types:
<ul>
<li>Original submission from data contributor</li>
<li>Resubmission or revision from data contributor</li>
<li>Compilation into a flat file database</li>
<li>Compilation into a another relational database</li>
<li>Recompilation or revisions to a another relational database</li>
<li>Compilation into Neotoma from another database</li>
<li>Recompilation into Neotoma from another database</li>
<li>Compilation into Neotoma from primary source</li>
<li>Recompilation into or revisions to Neotoma: The initial development of Neotoma involved merging the data from several existing databases, including FAUNMAP, the Global Pollen Database, and the North American Plant Macrofossil Database. Thus original compilation of Datasets was into one of these databases, which were then recompiled into Neotoma. The original compilation and the recompilation into Neotoma are separate submissions.</li>
</ul></li>
</ul>
<div id="sql-example-4" class="section level3 hasAnchor" number="7.13.1">
<h3><span class="header-section-number">7.13.1</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This query gives a list of Dataset Submissions for the site «Bear River No. 3» ordered by date.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="dataset-collection-related-tables-1.html#cb11-1" aria-hidden="true"></a><span class="kw">SELECT</span> DatasetTypes.DatasetType, Projects.ProjectName,</span>
<span id="cb11-2"><a href="dataset-collection-related-tables-1.html#cb11-2" aria-hidden="true"></a>DatasetSubmissions.SubmissionDate,</span>
<span id="cb11-3"><a href="dataset-collection-related-tables-1.html#cb11-3" aria-hidden="true"></a>DatasetSubmissionTypes.SubmissionType, DatasetSubmissions.Notes</span>
<span id="cb11-4"><a href="dataset-collection-related-tables-1.html#cb11-4" aria-hidden="true"></a></span>
<span id="cb11-5"><a href="dataset-collection-related-tables-1.html#cb11-5" aria-hidden="true"></a><span class="kw">FROM</span> Sites <span class="kw">INNER</span> <span class="kw">JOIN</span> (Projects <span class="kw">INNER</span> <span class="kw">JOIN</span> (DatasetTypes <span class="kw">INNER</span> <span class="kw">JOIN</span></span>
<span id="cb11-6"><a href="dataset-collection-related-tables-1.html#cb11-6" aria-hidden="true"></a>(DatasetSubmissionTypes <span class="kw">INNER</span> <span class="kw">JOIN</span> ((CollectionUnits <span class="kw">INNER</span> <span class="kw">JOIN</span> Datasets</span>
<span id="cb11-7"><a href="dataset-collection-related-tables-1.html#cb11-7" aria-hidden="true"></a><span class="kw">ON</span> CollectionUnits.CollectionUnitID <span class="op">=</span> Datasets.CollectionUnitID) <span class="kw">INNER</span></span>
<span id="cb11-8"><a href="dataset-collection-related-tables-1.html#cb11-8" aria-hidden="true"></a><span class="kw">JOIN</span> DatasetSubmissions <span class="kw">ON</span> Datasets.DatasetID <span class="op">=</span></span>
<span id="cb11-9"><a href="dataset-collection-related-tables-1.html#cb11-9" aria-hidden="true"></a>DatasetSubmissions.DatasetID) <span class="kw">ON</span> DatasetSubmissionTypes.SubmissionTypeID</span>
<span id="cb11-10"><a href="dataset-collection-related-tables-1.html#cb11-10" aria-hidden="true"></a><span class="op">=</span> DatasetSubmissions.SubmissionTypeID) <span class="kw">ON</span> DatasetTypes.DatasetTypeID <span class="op">=</span></span>
<span id="cb11-11"><a href="dataset-collection-related-tables-1.html#cb11-11" aria-hidden="true"></a>Datasets.DatasetTypeID) <span class="kw">ON</span> Projects.ProjectID <span class="op">=</span></span>
<span id="cb11-12"><a href="dataset-collection-related-tables-1.html#cb11-12" aria-hidden="true"></a>DatasetSubmissions.ProjectID) <span class="kw">ON</span> Sites.SiteID <span class="op">=</span> CollectionUnits.SiteID</span>
<span id="cb11-13"><a href="dataset-collection-related-tables-1.html#cb11-13" aria-hidden="true"></a></span>
<span id="cb11-14"><a href="dataset-collection-related-tables-1.html#cb11-14" aria-hidden="true"></a><span class="kw">WHERE</span> (((Sites.SiteName)<span class="op">=</span><span class="ot">&quot;Bear River No. 3&quot;</span>))</span>
<span id="cb11-15"><a href="dataset-collection-related-tables-1.html#cb11-15" aria-hidden="true"></a><span class="kw">ORDER</span> <span class="kw">BY</span> DatasetSubmissions.SubmissionDate;</span></code></pre></div>
</div>
</div>
<div id="datasettaxagrouptypes" class="section level2 hasAnchor" number="7.14">
<h2><span class="header-section-number">7.14</span> <code>datasettaxagrouptypes</code><a href="dataset-collection-related-tables-1.html#datasettaxagrouptypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Taxon groups associated with a dataset.</p>
</div>
<div id="datasettaxonnotes" class="section level2 hasAnchor" number="7.15">
<h2><span class="header-section-number">7.15</span> <code>datasettaxonnotes</code><a href="dataset-collection-related-tables-1.html#datasettaxonnotes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Notes associated with taxa within a particular dataset.</p>
</div>
<div id="DatasetTypes" class="section level2 hasAnchor" number="7.16">
<h2><span class="header-section-number">7.16</span> <code>datasettypes</code><a href="dataset-collection-related-tables-1.html#DatasetTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lookup table for Dataset Types. Table is referenced by the <a href="dataset-collection-related-tables-1.html#Datasets"><code>datasets</code></a> table.</p>
<div id="htmlwidget-92e0c14908b7ab8ffb45" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-92e0c14908b7ab8ffb45">{"x":{"filter":"none","vertical":false,"data":[["submissionid","datasetid","databaseid","contactid","submissiontypeid","submissiondate","notes","recdatecreated","recdatemodified"],["integer","integer","integer","integer","integer","date","text","timestamp(0) without time zone","timestamp(0) without time zone"],["datasetsubmissions_pkey","fk_datasetsubmissions_datasets","fk_datasetsubmissions_constituentdatabases","fk_datasetsubmissions_contacts","fk_datasetsubmissions_datasetsubmissiontypes","","","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>datasettypeid</code> (primary key)</strong>: An arbitrary Dataset Type identification number.</li>
<li><strong><code>datasettype</code></strong>: The Dataset type, including the following:
<ul>
<li>geochronologic</li>
<li>loss-on-ignition</li>
<li>pollen</li>
<li>plant macrofossils</li>
<li>vertebrate fauna</li>
<li>mollusks</li>
</ul></li>
</ul>
</div>
<div id="datasetvariables" class="section level2 hasAnchor" number="7.17">
<h2><span class="header-section-number">7.17</span> <code>datasetvariables</code><a href="dataset-collection-related-tables-1.html#datasetvariables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The variables associated with a particular dataset.</p>
</div>
<div id="DepEnvtTypes" class="section level2 hasAnchor" number="7.18">
<h2><span class="header-section-number">7.18</span> <code>depenvttypes</code><a href="dataset-collection-related-tables-1.html#DepEnvtTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lookup table of Depostional Environment Types. Table is referenced by
the <a href="dataset-collection-related-tables-1.html#CollectionUnits"><code>collectionunits</code></a> table.</p>
<div id="htmlwidget-8415d1f16a374ea98468" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8415d1f16a374ea98468">{"x":{"filter":"none","vertical":false,"data":[["depenvtid","depenvt","depenvthigherid","recdatecreated","recdatemodified"],["integer","character varying(255)","integer","timestamp(0) without time zone","timestamp(0) without time zone"],["depenvttypes_pkey","","fk_depenvthigherid","",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>column<\/th>\n      <th>data_type<\/th>\n      <th>constraint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"ltip","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><strong><code>depenvtid</code> (primary key)</strong>: An arbitrary Depositional Environment Type identification number.</li>
<li><strong><code>depenvt</code></strong>: Depositional Environment.</li>
<li><strong><code>depenvthigherid</code></strong>: The Depositional Environment Types are hierarchical. DepEnvtHigherID is the DepEnvtID of the higher ranked Depositional Environment. The linked example provides some context:</li>
</ul>
<div id="sql-example-5" class="section level3 hasAnchor" number="7.18.1">
<h3><span class="header-section-number">7.18.1</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This query gives a list of the top level depostional environment types.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="dataset-collection-related-tables-1.html#cb12-1" aria-hidden="true"></a><span class="kw">SELECT</span> dt.depenvtid, dt.depenvt</span>
<span id="cb12-2"><a href="dataset-collection-related-tables-1.html#cb12-2" aria-hidden="true"></a><span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> dt</span>
<span id="cb12-3"><a href="dataset-collection-related-tables-1.html#cb12-3" aria-hidden="true"></a><span class="kw">WHERE</span> dt.depenvtid <span class="op">=</span> dt.depenvthigherid;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:deptypetoplevel">Table 7.3: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">depenvtid</th>
<th align="left">depenvt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Archaeological</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">Biological</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="left">Estuarine</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="left">Lacustrine</td>
</tr>
<tr class="odd">
<td align="right">51</td>
<td align="left">Marine</td>
</tr>
<tr class="even">
<td align="right">59</td>
<td align="left">Palustrine</td>
</tr>
<tr class="odd">
<td align="right">76</td>
<td align="left">Riverine</td>
</tr>
<tr class="even">
<td align="right">93</td>
<td align="left">Sampler</td>
</tr>
<tr class="odd">
<td align="right">99</td>
<td align="left">Spring</td>
</tr>
<tr class="even">
<td align="right">103</td>
<td align="left">Terrestrial</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sql-example-6" class="section level3 hasAnchor" number="7.18.2">
<h3><span class="header-section-number">7.18.2</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This query uses a recursive CTE to provide a list of all the types of <em>Sampler</em> in Neotoma. The array in <code>deagg</code> represents the hierarchy of the sampler. So, for example, we see that the <em>Gosling Trap</em> is considered a form of <em>Pollen Trap (Terrestrial)</em>, which is a form of <em>Pollen Trap</em>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="dataset-collection-related-tables-1.html#cb13-1" aria-hidden="true"></a><span class="kw">WITH</span> RECURSIVE dephierarchy <span class="kw">AS</span> (</span>
<span id="cb13-2"><a href="dataset-collection-related-tables-1.html#cb13-2" aria-hidden="true"></a>  <span class="kw">SELECT</span> de.depenvtid,</span>
<span id="cb13-3"><a href="dataset-collection-related-tables-1.html#cb13-3" aria-hidden="true"></a>         de.depenvt,</span>
<span id="cb13-4"><a href="dataset-collection-related-tables-1.html#cb13-4" aria-hidden="true"></a>         <span class="dt">ARRAY</span>[de.depenvtid] <span class="kw">AS</span> deagg</span>
<span id="cb13-5"><a href="dataset-collection-related-tables-1.html#cb13-5" aria-hidden="true"></a>  <span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> de</span>
<span id="cb13-6"><a href="dataset-collection-related-tables-1.html#cb13-6" aria-hidden="true"></a>  <span class="kw">WHERE</span> de.depenvt <span class="op">=</span> <span class="st">&#39;Sampler&#39;</span></span>
<span id="cb13-7"><a href="dataset-collection-related-tables-1.html#cb13-7" aria-hidden="true"></a>  <span class="kw">UNION</span> <span class="kw">ALL</span> </span>
<span id="cb13-8"><a href="dataset-collection-related-tables-1.html#cb13-8" aria-hidden="true"></a>  <span class="kw">SELECT</span> de.depenvtid,</span>
<span id="cb13-9"><a href="dataset-collection-related-tables-1.html#cb13-9" aria-hidden="true"></a>         de.depenvt,</span>
<span id="cb13-10"><a href="dataset-collection-related-tables-1.html#cb13-10" aria-hidden="true"></a>         dephierarchy.deagg <span class="op">||</span> de.depenvtid</span>
<span id="cb13-11"><a href="dataset-collection-related-tables-1.html#cb13-11" aria-hidden="true"></a>  <span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> de </span>
<span id="cb13-12"><a href="dataset-collection-related-tables-1.html#cb13-12" aria-hidden="true"></a>  <span class="kw">INNER</span> <span class="kw">JOIN</span> dephierarchy <span class="kw">ON</span> de.depenvthigherid <span class="op">=</span> dephierarchy.depenvtid</span>
<span id="cb13-13"><a href="dataset-collection-related-tables-1.html#cb13-13" aria-hidden="true"></a>  <span class="kw">WHERE</span> <span class="kw">NOT</span> de.depenvtid <span class="op">=</span> dephierarchy.depenvtid</span>
<span id="cb13-14"><a href="dataset-collection-related-tables-1.html#cb13-14" aria-hidden="true"></a>)</span>
<span id="cb13-15"><a href="dataset-collection-related-tables-1.html#cb13-15" aria-hidden="true"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> dephierarchy;</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:deptypesamplers">Table 7.4: </span>9 records</caption>
<thead>
<tr class="header">
<th align="right">depenvtid</th>
<th align="left">depenvt</th>
<th align="left">deagg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">93</td>
<td align="left">Sampler</td>
<td align="left">{93}</td>
</tr>
<tr class="even">
<td align="right">94</td>
<td align="left">Air Pollen Sampler</td>
<td align="left">{93,94}</td>
</tr>
<tr class="odd">
<td align="right">95</td>
<td align="left">Pollen Trap</td>
<td align="left">{93,95}</td>
</tr>
<tr class="even">
<td align="right">144</td>
<td align="left">Cattle Tank</td>
<td align="left">{93,144}</td>
</tr>
<tr class="odd">
<td align="right">96</td>
<td align="left">Pollen Trap (Lacustrine)</td>
<td align="left">{93,95,96}</td>
</tr>
<tr class="even">
<td align="right">97</td>
<td align="left">Pollen Trap (Terrestrial)</td>
<td align="left">{93,95,97}</td>
</tr>
<tr class="odd">
<td align="right">98</td>
<td align="left">Tauber Trap</td>
<td align="left">{93,95,97,98}</td>
</tr>
<tr class="even">
<td align="right">219</td>
<td align="left">Gosling Trap</td>
<td align="left">{93,95,97,219}</td>
</tr>
<tr class="odd">
<td align="right">221</td>
<td align="left">Bush Trap</td>
<td align="left">{93,95,97,221}</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sql-example-7" class="section level3 hasAnchor" number="7.18.3">
<h3><span class="header-section-number">7.18.3</span> SQL Example<a href="dataset-collection-related-tables-1.html#sql-example-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This query uses a recursive CTE to list every depositional environment and the top level environment to which it relates:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="dataset-collection-related-tables-1.html#cb14-1" aria-hidden="true"></a><span class="kw">WITH</span> RECURSIVE dephierarchy <span class="kw">AS</span> </span>
<span id="cb14-2"><a href="dataset-collection-related-tables-1.html#cb14-2" aria-hidden="true"></a>(<span class="kw">SELECT</span> de.depenvtid,</span>
<span id="cb14-3"><a href="dataset-collection-related-tables-1.html#cb14-3" aria-hidden="true"></a>        de.depenvt,</span>
<span id="cb14-4"><a href="dataset-collection-related-tables-1.html#cb14-4" aria-hidden="true"></a>        <span class="dt">ARRAY</span>[de.depenvt:<span class="ch">:varchar</span>] <span class="kw">AS</span> deagg </span>
<span id="cb14-5"><a href="dataset-collection-related-tables-1.html#cb14-5" aria-hidden="true"></a> <span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> de </span>
<span id="cb14-6"><a href="dataset-collection-related-tables-1.html#cb14-6" aria-hidden="true"></a> <span class="kw">UNION</span> <span class="kw">ALL</span> </span>
<span id="cb14-7"><a href="dataset-collection-related-tables-1.html#cb14-7" aria-hidden="true"></a> <span class="kw">SELECT</span> de.depenvtid, </span>
<span id="cb14-8"><a href="dataset-collection-related-tables-1.html#cb14-8" aria-hidden="true"></a>        de.depenvt, </span>
<span id="cb14-9"><a href="dataset-collection-related-tables-1.html#cb14-9" aria-hidden="true"></a>        dephierarchy.deagg <span class="op">||</span> de.depenvt </span>
<span id="cb14-10"><a href="dataset-collection-related-tables-1.html#cb14-10" aria-hidden="true"></a> <span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> de  </span>
<span id="cb14-11"><a href="dataset-collection-related-tables-1.html#cb14-11" aria-hidden="true"></a> <span class="kw">INNER</span> <span class="kw">JOIN</span> dephierarchy <span class="kw">ON</span> de.depenvthigherid <span class="op">=</span> dephierarchy.depenvtid</span>
<span id="cb14-12"><a href="dataset-collection-related-tables-1.html#cb14-12" aria-hidden="true"></a> <span class="kw">WHERE</span> <span class="kw">NOT</span> de.depenvtid <span class="op">=</span> dephierarchy.depenvtid)</span>
<span id="cb14-13"><a href="dataset-collection-related-tables-1.html#cb14-13" aria-hidden="true"></a> <span class="kw">SELECT</span> depenvtid, </span>
<span id="cb14-14"><a href="dataset-collection-related-tables-1.html#cb14-14" aria-hidden="true"></a>        depenvt,</span>
<span id="cb14-15"><a href="dataset-collection-related-tables-1.html#cb14-15" aria-hidden="true"></a>        deagg[<span class="dv">1</span>] <span class="kw">FROM</span> dephierarchy </span>
<span id="cb14-16"><a href="dataset-collection-related-tables-1.html#cb14-16" aria-hidden="true"></a> <span class="kw">WHERE</span> dephierarchy.deagg[<span class="dv">1</span>] <span class="op">=</span> <span class="kw">ANY</span>(<span class="kw">SELECT</span> depenvt <span class="kw">FROM</span> ndb.depenvttypes <span class="kw">AS</span> det <span class="kw">WHERE</span> det.depenvthigherid <span class="op">=</span> det.depenvtid);</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:deptypetoplevels">Table 7.5: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">depenvtid</th>
<th align="left">depenvt</th>
<th align="left">deagg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Archaeological</td>
<td align="left">Archaeological</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">Biological</td>
<td align="left">Biological</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="left">Estuarine</td>
<td align="left">Estuarine</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="left">Lacustrine</td>
<td align="left">Lacustrine</td>
</tr>
<tr class="odd">
<td align="right">51</td>
<td align="left">Marine</td>
<td align="left">Marine</td>
</tr>
<tr class="even">
<td align="right">59</td>
<td align="left">Palustrine</td>
<td align="left">Palustrine</td>
</tr>
<tr class="odd">
<td align="right">76</td>
<td align="left">Riverine</td>
<td align="left">Riverine</td>
</tr>
<tr class="even">
<td align="right">93</td>
<td align="left">Sampler</td>
<td align="left">Sampler</td>
</tr>
<tr class="odd">
<td align="right">99</td>
<td align="left">Spring</td>
<td align="left">Spring</td>
</tr>
<tr class="even">
<td align="right">103</td>
<td align="left">Terrestrial</td>
<td align="left">Terrestrial</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references hanging-indent">
<div id="ref-Bennett2016">
<p>Bennett, Keith David, and Caitlin E Buck. 2016. “Interpretation of Lake Sediment Accumulation Rates.” <em>The Holocene</em> 26 (7): 1092–1102.</p>
</div>
<div id="ref-Goring2012">
<p>Goring, S, JW Williams, JL Blois, ST Jackson, CJ Paciorek, RK Booth, JR Marlon, M Blaauw, and JA Christen. 2012. “Deposition Times in the Northeastern United States During the Holocene: Establishing Valid Priors for Bayesian Age Models.” Journal Article. <em>Quaternary Science Reviews</em> 48: 54–60.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="contact-and-individual-related-tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="publication-related-tables-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"max-depth": 4
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
